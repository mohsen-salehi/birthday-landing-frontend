var retina=window.devicePixelRatio,PI=Math.PI,sqrt=Math.sqrt,round=Math.round,random=Math.random,cos=Math.cos,sin=Math.sin,rAF=window.requestAnimationFrame,cAF=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,_now=Date.now||function(){return new Date().getTime()};!function(i){var t=_now(),s=i.cancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout;rAF=i.requestAnimationFrame||i.webkitRequestAnimationFrame||function i(s){var n=_now(),o=setTimeout(s,Math.max(0,16-(n-t)));return t=n,o},cAF=function(t){s.call(i,t)}}(window),document.addEventListener("DOMContentLoaded",function(){var i=PI/180,t=[["#df0049","#660671"],["#00e857","#005291"],["#2bebbc","#05798a"],["#ffd200","#b06c00"]];function s(i,t){this.x=i,this.y=t,this.Length=function(){return sqrt(this.SqrLength())},this.SqrLength=function(){return this.x*this.x+this.y*this.y},this.Add=function(i){this.x+=i.x,this.y+=i.y},this.Sub=function(i){this.x-=i.x,this.y-=i.y},this.Div=function(i){this.x/=i,this.y/=i},this.Mul=function(i){this.x*=i,this.y*=i},this.Normalize=function(){var i=this.SqrLength();if(0!=i){var t=1/sqrt(i);this.x*=t,this.y*=t}},this.Normalized=function(){var i=this.SqrLength();if(0!=i){var t=1/sqrt(i);return new s(this.x*t,this.y*t)}return new s(0,0)}}function n(i,t,n,o){this.position=new s(i,t),this.mass=n,this.drag=o,this.force=new s(0,0),this.velocity=new s(0,0),this.AddForce=function(i){this.force.Add(i)},this.Integrate=function(i){var t=this.CurrentForce(this.position);t.Div(this.mass);var n=new s(this.velocity.x,this.velocity.y);n.Mul(i),this.position.Add(n),t.Mul(i),this.velocity.Add(t),this.force=new s(0,0)},this.CurrentForce=function(i,t){var n=new s(this.force.x,this.force.y),o=this.velocity.Length(),e=new s(this.velocity.x,this.velocity.y);return e.Mul(this.drag*this.mass*o),n.Sub(e),n}}function o(n,e){this.pos=new s(n,e),this.rotationSpeed=600*random()+800,this.angle=i*random()*360,this.rotation=i*random()*360,this.cosA=1,this.size=5,this.oscillationSpeed=1.5*random()+.5,this.xSpeed=40,this.ySpeed=60*random()+50,this.corners=[],this.time=random();var r=round(random()*(t.length-1));this.frontColor=t[r][0],this.backColor=t[r][1];for(var a=0;a<4;a++){var h=cos(this.angle+i*(90*a+45)),c=sin(this.angle+i*(90*a+45));this.corners[a]=new s(h,c)}this.Update=function(t){this.time+=t,this.rotation+=this.rotationSpeed*t,this.cosA=cos(i*this.rotation),this.pos.x+=cos(this.time*this.oscillationSpeed)*this.xSpeed*t,this.pos.y+=this.ySpeed*t,this.pos.y>o.bounds.y&&(this.pos.x=random()*o.bounds.x,this.pos.y=0)},this.Draw=function(i){this.cosA>0?i.fillStyle=this.frontColor:i.fillStyle=this.backColor,i.beginPath(),i.moveTo((this.pos.x+this.corners[0].x*this.size)*retina,(this.pos.y+this.corners[0].y*this.size*this.cosA)*retina);for(var t=1;t<4;t++)i.lineTo((this.pos.x+this.corners[t].x*this.size)*retina,(this.pos.y+this.corners[t].y*this.size*this.cosA)*retina);i.closePath(),i.fill()}}function e(o,r,a,h,c,l,p,u){this.particleDist=h,this.particleCount=a,this.particleMass=p,this.particleDrag=u,this.particles=[];var d=round(random()*(t.length-1));this.frontColor=t[d][0],this.backColor=t[d][1],this.xOff=cos(i*l)*c,this.yOff=sin(i*l)*c,this.position=new s(o,r),this.prevPosition=new s(o,r),this.velocityInherit=2*random()+4,this.time=100*random(),this.oscillationSpeed=2*random()+2,this.oscillationDistance=40*random()+40,this.ySpeed=40*random()+80;for(var f=0;f<this.particleCount;f++)this.particles[f]=new n(o,r-f*this.particleDist,this.particleMass,this.particleDrag);this.Update=function(i){var t=0;this.time+=i*this.oscillationSpeed,this.position.y+=this.ySpeed*i,this.position.x+=cos(this.time)*this.oscillationDistance*i,this.particles[0].position=this.position;var n=this.prevPosition.x-this.position.x,o=this.prevPosition.y-this.position.y,r=sqrt(n*n+o*o);for(t=1,this.prevPosition=new s(this.position.x,this.position.y);t<this.particleCount;t++){var a=s.Sub(this.particles[t-1].position,this.particles[t].position);a.Normalize(),a.Mul(r/i*this.velocityInherit),this.particles[t].AddForce(a)}for(t=1;t<this.particleCount;t++)this.particles[t].Integrate(i);for(t=1;t<this.particleCount;t++){var h=new s(this.particles[t].position.x,this.particles[t].position.y);h.Sub(this.particles[t-1].position),h.Normalize(),h.Mul(this.particleDist),h.Add(this.particles[t-1].position),this.particles[t].position=h}this.position.y>e.bounds.y+this.particleDist*this.particleCount&&this.Reset()},this.Reset=function(){this.position.y=-random()*e.bounds.y,this.position.x=random()*e.bounds.x,this.prevPosition=new s(this.position.x,this.position.y),this.velocityInherit=2*random()+4,this.time=100*random(),this.oscillationSpeed=2*random()+1.5,this.oscillationDistance=40*random()+40,this.ySpeed=40*random()+80;var i=round(random()*(t.length-1));this.frontColor=t[i][0],this.backColor=t[i][1],this.particles=[];for(var o=0;o<this.particleCount;o++)this.particles[o]=new n(this.position.x,this.position.y-o*this.particleDist,this.particleMass,this.particleDrag)},this.Draw=function(i){for(var t=0;t<this.particleCount-1;t++){var n=new s(this.particles[t].position.x+this.xOff,this.particles[t].position.y+this.yOff),o=new s(this.particles[t+1].position.x+this.xOff,this.particles[t+1].position.y+this.yOff);0>this.Side(this.particles[t].position.x,this.particles[t].position.y,this.particles[t+1].position.x,this.particles[t+1].position.y,o.x,o.y)?(i.fillStyle=this.frontColor,i.strokeStyle=this.frontColor):(i.fillStyle=this.backColor,i.strokeStyle=this.backColor),0==t?(i.beginPath(),i.moveTo(this.particles[t].position.x*retina,this.particles[t].position.y*retina),i.lineTo(this.particles[t+1].position.x*retina,this.particles[t+1].position.y*retina),i.lineTo((this.particles[t+1].position.x+o.x)*.5*retina,(this.particles[t+1].position.y+o.y)*.5*retina),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.moveTo(o.x*retina,o.y*retina),i.lineTo(n.x*retina,n.y*retina),i.lineTo((this.particles[t+1].position.x+o.x)*.5*retina,(this.particles[t+1].position.y+o.y)*.5*retina),i.closePath(),i.stroke(),i.fill()):t==this.particleCount-2?(i.beginPath(),i.moveTo(this.particles[t].position.x*retina,this.particles[t].position.y*retina),i.lineTo(this.particles[t+1].position.x*retina,this.particles[t+1].position.y*retina),i.lineTo((this.particles[t].position.x+n.x)*.5*retina,(this.particles[t].position.y+n.y)*.5*retina),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.moveTo(o.x*retina,o.y*retina),i.lineTo(n.x*retina,n.y*retina),i.lineTo((this.particles[t].position.x+n.x)*.5*retina,(this.particles[t].position.y+n.y)*.5*retina),i.closePath(),i.stroke(),i.fill()):(i.beginPath(),i.moveTo(this.particles[t].position.x*retina,this.particles[t].position.y*retina),i.lineTo(this.particles[t+1].position.x*retina,this.particles[t+1].position.y*retina),i.lineTo(o.x*retina,o.y*retina),i.lineTo(n.x*retina,n.y*retina),i.closePath(),i.stroke(),i.fill())}},this.Side=function(i,t,s,n,o,e){return(i-s)*(e-n)-(t-n)*(o-s)}}s.Lerp=function(i,t,n){return new s((t.x-i.x)*n+i.x,(t.y-i.y)*n+i.y)},s.Distance=function(i,t){return sqrt(s.SqrDistance(i,t))},s.SqrDistance=function(i,t){var s=i.x-t.x,n=i.y-t.y;return s*s+n*n+z*z},s.Scale=function(i,t){return new s(i.x*t.x,i.y*t.y)},s.Min=function(i,t){return new s(Math.min(i.x,t.x),Math.min(i.y,t.y))},s.Max=function(i,t){return new s(Math.max(i.x,t.x),Math.max(i.y,t.y))},s.ClampMagnitude=function(i,t){var n=i.Normalized;return new s(n.x*t,n.y*t)},s.Sub=function(i,t){return new s(i.x-t.x,i.y-t.y,i.z-t.z)},o.bounds=new s(0,0),e.bounds=new s(0,0),(r={}).Context=function(i){var t=0,n=document.getElementById(i),a=n.parentNode,h=a.offsetWidth,c=a.offsetHeight;n.width=h*retina,n.height=c*retina;var l=n.getContext("2d"),p=[];for(t=0,e.bounds=new s(h,c);t<11;t++)p[t]=new e(random()*h,-random()*c*2,30,8,8,45,1,.05);var u=[];for(t=0,o.bounds=new s(h,c);t<95;t++)u[t]=new o(random()*h,random()*c);this.resize=function(){h=a.offsetWidth,c=a.offsetHeight,n.width=h*retina,n.height=c*retina,o.bounds=new s(h,c),e.bounds=new s(h,c)},this.start=function(){this.stop(),this.update()},this.stop=function(){cAF(this.interval)},this.update=function(){var i=0;for(l.clearRect(0,0,n.width,n.height),i=0;i<95;i++)u[i].Update(.02),u[i].Draw(l);for(i=0;i<11;i++)p[i].Update(.02),p[i].Draw(l);this.interval=rAF(function(){r.update()})}};var r=new r.Context("confetti");r.start(),window.addEventListener("resize",function(i){r.resize()})});
